---
tags:
  - Android
  - 1402_2
enableOverview: "true"
css:
  - css/shabnam.css
theme: black
---

<!-- slide dir="rtl" -->

![[University-of-Isfahan.png|200]]

## Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ÙˆÛŒØ³ÛŒ Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ§Ø±
#### Ø¯Ø±Ø³Ù†Ø§Ù…Ù‡ 13: Sensor

- ØªØ±Ù… Ø¨Ù‡Ø§Ø± 1402-1403 Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ø§ØµÙÙ‡Ø§Ù† 
- Ù†ÙˆÛŒØ¯ Ø´ÛŒØ±Ù…Ø­Ù…Ø¯ÛŒ
---
<!-- slide bg="#2d4726"  dir="rtl" -->
- Ú©Ø§Ù†Ø§Ù„: t.me/android_ui02

---
<!-- slide bg="#d24726" dir="rtl" -->
## Ø¯Ø± Ø§ÛŒÙ† Ø¯Ø±Ø³Ù†Ø§Ù…Ù‡
- Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ø³Ù†Ø³ÙˆØ± Ùˆ Ø§Ù†ÙˆØ§Ø¹ Ø¢Ù†
- Ú©Ø§Ø± Ø¨Ø§ Ø³Ù†Ø³ÙˆØ±Ù‡Ø§ÛŒ Ø´ØªØ§Ø¨ Ùˆ Ù…ÛŒØ¯Ø§Ù† Ù…ØºÙ†Ø§Ø·ÛŒØ³ÛŒ

---
<!-- slide dir="rtl"-->
### Ø³Ù†Ø³ÙˆØ± Ú†Ø±Ø§ØŸ
- Ø¯Ø± Ø¨ÛŒØ´ØªØ± Ú¯ÙˆØ´ÛŒâ€ŒÙ‡Ø§ Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø¯Ø§Ø²ÛŒÙ‡â€ŒÚ¯ÛŒØ±ÛŒ Ù…Ø®ØªÙ„Ù Ù‡Ø³ØªÙ†

![[Pasted image 20240510201638.png]]

---
### Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§
- Ø­Ø±Ú©Ø§Øª Ùˆ Ù…ÙˆÙ‚Ø¹ÛŒØª Ú¯ÙˆØ´ÛŒ Ø¯Ø± Ø³Ù‡ Ø¨Ø¹Ø¯ Ø±Ø§ ØªØ´Ø®ÛŒØµ Ø¨Ø¯ÛŒÙ…
	- Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ±Ø²Ø´ÛŒØŒ Ø¨Ø§Ø²ÛŒØŒ Ø¬Ø¹Ø¨Ù‡ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±
- Ø«Ø¨Øª Ø¨Ø± Ø¯Ù…Ø§ Ùˆ Ø±Ø·ÙˆØ¨Øª

![[Pasted image 20240510202106.png]]

---
<!--slide dir="rtl"-->
### Ø§Ù†ÙˆØ§Ø¹ Ø³Ù†Ø³ÙˆØ±â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯
- Ø³Ù†Ø³ÙˆØ±â€ŒÙ‡Ø§ÛŒ Ø­Ø±Ú©Øª: Ø´ØªØ§Ø¨ Ùˆ Ú†Ø±Ø®Ø´
	- accelerometers,Â gravity sensor,Â gyroscopes Ùˆ rotational vector sensor
- Ø³Ù†Ø³ÙˆØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ: Ø¯Ù…Ø§ØŒ Ø±Ø·ÙˆØ¨ØªØŒ ÙØ´Ø§Ø± Ùˆ Ø±ÙˆØ´Ù†Ø§ÛŒÛŒ
	- barometers,Â photometers ÙˆÂ thermometers
- Ø³Ù†Ø³ÙˆØ± Ù…ÙˆÙ‚Ø¹ÛŒØª: ÙˆØ¶Ø¹ÛŒØª Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø¯Ø± ÙØ¶Ø§
	- orientation sensorÂ ÙˆÂ magnetometers
---
### ÙØ±ÛŒÙ…â€ŒÙˆØ±Ú© Ø³Ù†Ø³ÙˆØ±
Ø®ÙˆØ¯ Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒØ¯Ù‡ (Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø² Ù†Ø¯Ø§Ø±ÛŒÙ… ğŸ™‚)
- ØªØ´Ø®ÛŒØµ Ø³Ù†Ø³ÙˆØ±Ù‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯
- ØªØ¹ÛŒÛŒÙ† Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø³Ù†Ø³ÙˆØ±
- Ø¯Ø³ØªÛŒØ§Ø¨ÛŒ Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ù†Ø³ÙˆØ±
- Ø±Ø¬ÛŒØ³ØªØ± Ùˆ Ø¢Ù†Ø±Ø¬ÛŒØ³ØªØ± Ù„ÛŒØ³ØªÙ†Ø±
---
### Ø¨Ø¹Ø¶ÛŒ Ø³Ù†Ø³ÙˆØ±Ù‡Ø§ Ùˆ Ù†ÙˆØ¹Ø´ÙˆÙ†

![[Pasted image 20240510202827.png]]

---
### Ú©ÛŒ Ú†Ù‡ Ø³Ù†Ø³ÙˆØ±ÛŒ Ø§ÙˆÙ…Ø¯

![[Pasted image 20240510202909.png]]
---
### Ù„ÛŒØ³Øª Ú©Ø±Ø¯Ù† Ø³Ù†Ø³ÙˆØ±Ù‡Ø§

```kotlin
private lateinit var sensorManager: SensorManager

sensorManager = getSystemService(Context.SENSOR_SERVICE) as SensorManager

val deviceSensors: List<Sensor> = sensorManager.getSensorList(Sensor.TYPE_ALL)
```

---
### Ø¯ÛŒØ¯Ù† ÛŒÙ‡ Ø³Ù†Ø³ÙˆØ± Ø®Ø§Øµ

```kotlin
private lateinit var sensorManager: SensorManager
private var mSensor: Sensor? = null

...

sensorManager = getSystemService(Context.SENSOR_SERVICE) as SensorManager

if (sensorManager.getDefaultSensor(Sensor.TYPE_GRAVITY) != null) {
    val gravSensors: List<Sensor> = sensorManager.getSensorList(Sensor.TYPE_GRAVITY)
    // Use the version 3 gravity sensor.
    mSensor = gravSensors.firstOrNull { it.vendor.contains("Google LLC") && it.version == 3 }
}
if (mSensor == null) {
    // Use the accelerometer.
    mSensor = if (sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER) != null) {
        sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER)
    } else {
        // Sorry, there are no accelerometers on your device.
        // You can't play this game.
        null
    }
}
```

---
### Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø¯

```kotlin
package info.navidlabs.androidprogrammingclass  
  
import android.content.Context  
import android.hardware.Sensor  
import android.hardware.SensorEvent  
import android.hardware.SensorEventListener  
import android.hardware.SensorManager  
import android.os.Bundle  
import android.util.Log  
import androidx.activity.ComponentActivity  
import androidx.activity.compose.setContent  
import info.navidlabs.androidprogrammingclass.ui.theme.AndroidProgrammingClassTheme  
  
class MainActivity : ComponentActivity(), SensorEventListener {  
    private lateinit var sensorManager: SensorManager  
    private val accelerometerReading = FloatArray(3)  
    private val magnetometerReading = FloatArray(3)  
      
    override fun onCreate(savedInstanceState: Bundle?) {  
        super.onCreate(savedInstanceState)  
        sensorManager = getSystemService(Context.SENSOR_SERVICE) as SensorManager  
  
        setContent {  
            AndroidProgrammingClassTheme {  
  
            }  
        }  
    }  
  
    override fun onAccuracyChanged(sensor: Sensor, accuracy: Int) {  
        // Do something here if sensor accuracy changes.  
    }  
  
    override fun onResume() {  
        super.onResume()  
  
        sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER)?.also { accelerometer ->  
            sensorManager.registerListener(  
                this,  
                accelerometer,  
                SensorManager.SENSOR_DELAY_NORMAL,  
                SensorManager.SENSOR_DELAY_UI  
            )  
        }  
        sensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD)?.also { magneticField ->  
            sensorManager.registerListener(  
                this,  
                magneticField,  
                SensorManager.SENSOR_DELAY_NORMAL,  
                SensorManager.SENSOR_DELAY_UI  
            )  
        }  
    }  
  
    override fun onPause() {  
        super.onPause()  
        sensorManager.unregisterListener(this)  
    }  
  
    override fun onSensorChanged(event: SensorEvent) {  
        if (event.sensor.type == Sensor.TYPE_ACCELEROMETER) {  
            System.arraycopy(event.values, 0, accelerometerReading, 0, accelerometerReading.size)  
            Log.i("Sensor:ACCELEROMETER", "${event.values[0]}")  
        } else if (event.sensor.type == Sensor.TYPE_MAGNETIC_FIELD) {  
            System.arraycopy(event.values, 0, magnetometerReading, 0, magnetometerReading.size)  
            Log.i("Sensor:MAGNETIC_FIELD", "${event.values[0]}")  
        }  
    }  
}
```
